import { PrismaService } from "../database/prisma.service";
import { OpenAIService } from "../ai/services/openai.service";
import { CRMAutomationService } from "../common/services/crm-automation.service";
export declare class LeadsService {
    private prisma;
    private openaiService;
    private crmAutomationService;
    constructor(prisma: PrismaService, openaiService: OpenAIService, crmAutomationService: CRMAutomationService);
    findAll(organizationId: string, agentId?: string): Promise<({
        appointments: {
            id: string;
            status: import(".prisma/client").$Enums.AppointmentStatus;
            source: string;
            notes: string | null;
            createdAt: Date;
            updatedAt: Date;
            organizationId: string;
            title: string;
            duration: number;
            type: string;
            location: string | null;
            meetingLink: string | null;
            leadId: string | null;
            crmEventId: string | null;
            crmSynced: boolean;
            googleEventId: string | null;
            scheduledAt: Date;
        }[];
        agent: {
            id: string;
            name: string;
        };
        _count: {
            conversations: number;
        };
    } & {
        log: string | null;
        id: string;
        name: string | null;
        email: string | null;
        phone: string;
        phoneWith9: string | null;
        phoneNo9: string | null;
        status: import(".prisma/client").$Enums.LeadStatus;
        source: string | null;
        metaLeadgenId: string | null;
        notes: string | null;
        createdAt: Date;
        updatedAt: Date;
        agentId: string;
        address: string | null;
        contractDate: Date | null;
        cpf: string | null;
        currentState: string | null;
        extractedData: import("@prisma/client/runtime/library").JsonValue | null;
        maritalStatus: string | null;
        organizationId: string;
        profession: string | null;
        zapSignDocumentId: string | null;
        zapSignSignedAt: Date | null;
        zapSignStatus: string | null;
        birthDate: Date | null;
        rg: string | null;
        crmStageId: string | null;
        conversationSummary: string | null;
    })[]>;
    findOne(id: string): Promise<({
        appointments: {
            id: string;
            status: import(".prisma/client").$Enums.AppointmentStatus;
            source: string;
            notes: string | null;
            createdAt: Date;
            updatedAt: Date;
            organizationId: string;
            title: string;
            duration: number;
            type: string;
            location: string | null;
            meetingLink: string | null;
            leadId: string | null;
            crmEventId: string | null;
            crmSynced: boolean;
            googleEventId: string | null;
            scheduledAt: Date;
        }[];
        conversations: ({
            messages: {
                id: string;
                type: import(".prisma/client").$Enums.MessageType;
                messageId: string;
                content: string;
                fromMe: boolean;
                timestamp: Date;
                conversationId: string;
                thought: string | null;
                mediaUrl: string | null;
                mediaType: string | null;
                caption: string | null;
            }[];
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            agentId: string;
            organizationId: string;
            leadId: string | null;
            whatsapp: string;
            aiEnabled: boolean;
        })[];
        agent: {
            id: string;
            name: string;
            createdAt: Date;
            updatedAt: Date;
            organizationId: string;
            description: string | null;
            tone: import(".prisma/client").$Enums.Tone;
            language: string;
            isActive: boolean;
            instance: string;
            userId: string;
            allowDynamicDuration: boolean;
            blockedDates: import("@prisma/client/runtime/library").JsonValue | null;
            bufferTime: number;
            customTimeWindows: import("@prisma/client/runtime/library").JsonValue | null;
            followupDelay: number;
            followupEnabled: boolean;
            googleAccessToken: string | null;
            googleCalendarEnabled: boolean;
            googleCalendarId: string | null;
            googleRefreshToken: string | null;
            googleTokenExpiry: Date | null;
            instructions: string | null;
            maxMeetingDuration: number;
            meetingDuration: number;
            minAdvanceHours: number;
            minMeetingDuration: number;
            notificationEnabled: boolean;
            notificationTemplate: string | null;
            personality: string | null;
            reminderEnabled: boolean;
            reminderHours: number;
            reminderMessage: string | null;
            systemPrompt: string | null;
            useCustomTimeWindows: boolean;
            workingHours: import("@prisma/client/runtime/library").JsonValue | null;
            dataCollectionInstructions: string | null;
            followupDecisionPrompt: string | null;
            followupHours: import("@prisma/client/runtime/library").JsonValue | null;
            initialStateId: string | null;
            messageBufferDelayMs: number;
            messageBufferEnabled: boolean;
            messageBufferMaxSize: number;
            notificationPhones: string[];
            prohibitions: string | null;
            responseDelay: number;
            writingStyle: string | null;
            dataExtractionPrompt: string | null;
            fsmDataExtractorPrompt: string | null;
            fsmStateDeciderPrompt: string | null;
            fsmValidatorPrompt: string | null;
            audioResponseEnabled: boolean;
            zapSignFieldMapping: import("@prisma/client/runtime/library").JsonValue | null;
            zapSignTriggerCrmStageId: string | null;
        };
    } & {
        log: string | null;
        id: string;
        name: string | null;
        email: string | null;
        phone: string;
        phoneWith9: string | null;
        phoneNo9: string | null;
        status: import(".prisma/client").$Enums.LeadStatus;
        source: string | null;
        metaLeadgenId: string | null;
        notes: string | null;
        createdAt: Date;
        updatedAt: Date;
        agentId: string;
        address: string | null;
        contractDate: Date | null;
        cpf: string | null;
        currentState: string | null;
        extractedData: import("@prisma/client/runtime/library").JsonValue | null;
        maritalStatus: string | null;
        organizationId: string;
        profession: string | null;
        zapSignDocumentId: string | null;
        zapSignSignedAt: Date | null;
        zapSignStatus: string | null;
        birthDate: Date | null;
        rg: string | null;
        crmStageId: string | null;
        conversationSummary: string | null;
    }) | null>;
    create(data: any): Promise<{
        agent: {
            id: string;
            name: string;
            createdAt: Date;
            updatedAt: Date;
            organizationId: string;
            description: string | null;
            tone: import(".prisma/client").$Enums.Tone;
            language: string;
            isActive: boolean;
            instance: string;
            userId: string;
            allowDynamicDuration: boolean;
            blockedDates: import("@prisma/client/runtime/library").JsonValue | null;
            bufferTime: number;
            customTimeWindows: import("@prisma/client/runtime/library").JsonValue | null;
            followupDelay: number;
            followupEnabled: boolean;
            googleAccessToken: string | null;
            googleCalendarEnabled: boolean;
            googleCalendarId: string | null;
            googleRefreshToken: string | null;
            googleTokenExpiry: Date | null;
            instructions: string | null;
            maxMeetingDuration: number;
            meetingDuration: number;
            minAdvanceHours: number;
            minMeetingDuration: number;
            notificationEnabled: boolean;
            notificationTemplate: string | null;
            personality: string | null;
            reminderEnabled: boolean;
            reminderHours: number;
            reminderMessage: string | null;
            systemPrompt: string | null;
            useCustomTimeWindows: boolean;
            workingHours: import("@prisma/client/runtime/library").JsonValue | null;
            dataCollectionInstructions: string | null;
            followupDecisionPrompt: string | null;
            followupHours: import("@prisma/client/runtime/library").JsonValue | null;
            initialStateId: string | null;
            messageBufferDelayMs: number;
            messageBufferEnabled: boolean;
            messageBufferMaxSize: number;
            notificationPhones: string[];
            prohibitions: string | null;
            responseDelay: number;
            writingStyle: string | null;
            dataExtractionPrompt: string | null;
            fsmDataExtractorPrompt: string | null;
            fsmStateDeciderPrompt: string | null;
            fsmValidatorPrompt: string | null;
            audioResponseEnabled: boolean;
            zapSignFieldMapping: import("@prisma/client/runtime/library").JsonValue | null;
            zapSignTriggerCrmStageId: string | null;
        };
    } & {
        log: string | null;
        id: string;
        name: string | null;
        email: string | null;
        phone: string;
        phoneWith9: string | null;
        phoneNo9: string | null;
        status: import(".prisma/client").$Enums.LeadStatus;
        source: string | null;
        metaLeadgenId: string | null;
        notes: string | null;
        createdAt: Date;
        updatedAt: Date;
        agentId: string;
        address: string | null;
        contractDate: Date | null;
        cpf: string | null;
        currentState: string | null;
        extractedData: import("@prisma/client/runtime/library").JsonValue | null;
        maritalStatus: string | null;
        organizationId: string;
        profession: string | null;
        zapSignDocumentId: string | null;
        zapSignSignedAt: Date | null;
        zapSignStatus: string | null;
        birthDate: Date | null;
        rg: string | null;
        crmStageId: string | null;
        conversationSummary: string | null;
    }>;
    update(id: string, data: any): Promise<{
        log: string | null;
        id: string;
        name: string | null;
        email: string | null;
        phone: string;
        phoneWith9: string | null;
        phoneNo9: string | null;
        status: import(".prisma/client").$Enums.LeadStatus;
        source: string | null;
        metaLeadgenId: string | null;
        notes: string | null;
        createdAt: Date;
        updatedAt: Date;
        agentId: string;
        address: string | null;
        contractDate: Date | null;
        cpf: string | null;
        currentState: string | null;
        extractedData: import("@prisma/client/runtime/library").JsonValue | null;
        maritalStatus: string | null;
        organizationId: string;
        profession: string | null;
        zapSignDocumentId: string | null;
        zapSignSignedAt: Date | null;
        zapSignStatus: string | null;
        birthDate: Date | null;
        rg: string | null;
        crmStageId: string | null;
        conversationSummary: string | null;
    }>;
    delete(id: string): Promise<{
        success: boolean;
    }>;
    updateConversationSummary(leadId: string): Promise<void>;
}
