{"version":3,"file":"fsm-engine.service.js","sourceRoot":"","sources":["../../../../src/ai/fsm-engine/fsm-engine.service.ts"],"names":[],"mappings":"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"}