import { PrismaService } from "../database/prisma.service";
import { WhatsAppIntegrationService } from "../integrations/whatsapp/whatsapp-integration.service";
export declare class FollowupsService {
    private prisma;
    private whatsappService;
    constructor(prisma: PrismaService, whatsappService: WhatsAppIntegrationService);
    findAll(agentId: string): Promise<{
        id: string;
        organizationId: string;
        agentId: string;
        createdAt: Date;
        updatedAt: Date;
        name: string;
        isActive: boolean;
        message: string;
        condition: string;
        delayHours: number;
        aiDecisionEnabled: boolean;
        aiDecisionPrompt: string | null;
        audioVoiceId: string | null;
        mediaType: string;
        mediaUrl: string | null;
        respectBusinessHours: boolean;
        specificHour: number | null;
        specificMinute: number | null;
        specificTimeEnabled: boolean;
        delayMinutes: number | null;
        matrixStageId: string | null;
    }[]>;
    findOne(id: string): Promise<({
        logs: {
            id: string;
            leadId: string;
            message: string;
            followupId: string;
            sentAt: Date;
        }[];
    } & {
        id: string;
        organizationId: string;
        agentId: string;
        createdAt: Date;
        updatedAt: Date;
        name: string;
        isActive: boolean;
        message: string;
        condition: string;
        delayHours: number;
        aiDecisionEnabled: boolean;
        aiDecisionPrompt: string | null;
        audioVoiceId: string | null;
        mediaType: string;
        mediaUrl: string | null;
        respectBusinessHours: boolean;
        specificHour: number | null;
        specificMinute: number | null;
        specificTimeEnabled: boolean;
        delayMinutes: number | null;
        matrixStageId: string | null;
    }) | null>;
    create(data: any): Promise<{
        id: string;
        organizationId: string;
        agentId: string;
        createdAt: Date;
        updatedAt: Date;
        name: string;
        isActive: boolean;
        message: string;
        condition: string;
        delayHours: number;
        aiDecisionEnabled: boolean;
        aiDecisionPrompt: string | null;
        audioVoiceId: string | null;
        mediaType: string;
        mediaUrl: string | null;
        respectBusinessHours: boolean;
        specificHour: number | null;
        specificMinute: number | null;
        specificTimeEnabled: boolean;
        delayMinutes: number | null;
        matrixStageId: string | null;
    }>;
    update(id: string, data: any): Promise<{
        id: string;
        organizationId: string;
        agentId: string;
        createdAt: Date;
        updatedAt: Date;
        name: string;
        isActive: boolean;
        message: string;
        condition: string;
        delayHours: number;
        aiDecisionEnabled: boolean;
        aiDecisionPrompt: string | null;
        audioVoiceId: string | null;
        mediaType: string;
        mediaUrl: string | null;
        respectBusinessHours: boolean;
        specificHour: number | null;
        specificMinute: number | null;
        specificTimeEnabled: boolean;
        delayMinutes: number | null;
        matrixStageId: string | null;
    }>;
    delete(id: string): Promise<{
        success: boolean;
    }>;
    checkAgentFollowUps(): Promise<{
        processed: number;
        rulesChecked: number;
    }>;
    private getFollowupEligibleConversations;
    private checkFollowupConditions;
    private sendFollowup;
    private checkWorkingHours;
    private parseTime;
}
